<!DOCTYPE html>
<html class="no-js">
<head>
<meta charset="utf-8">
<!--<meta name="viewport" content="width=960">-->

<title>Build Your Own Cloud</title>

<link rel="stylesheet" href="./common.css">
<link rel="stylesheet" href="../core/deck.core.css">
<link rel="stylesheet" href="../extensions/hash/deck.hash.css">

<link rel="stylesheet" id="style-theme-link" href="../themes/style/web-2.0.css">
<link rel="stylesheet" id="transition-theme-link" href="../themes/transition/horizontal-slide.css">


<link rel="stylesheet" href="../extensions/status/deck.status.css">
<!--<link rel="stylesheet" href="./home.css">-->
<link rel="stylesheet" href="./header.css">

<script src="../modernizr.custom.js"></script>

</head>
<body>
<article class="deck-container" id="container">

  <section class="slide" id="splash">
    <header>
      <h1>actually, don't</h1>
    </header>
    <h1>build yer own frickin cloud</h1>
  </section>

  <section class="slide" id="aboutthetalk">
    <header>
      <h1>what is this talk about</h1>
    </header>
    <ul>
      <li class="slide">a little bit about me</li>
      <li class="slide">a little more about OpenStack</li>
      <li class="slide">a bunch about cool tech we use</li>
      <li class="slide">a bit about some cool tools you should use</li>
      <li class="slide">a bit about some cool hacks we did</li>
      <li class="slide">a little bit about some tools I wrote</li>
      <li class="slide">an uplifting statement about the future</li>
    </ul>
  </section>

  <section class="slide" id="aboutme">
    <header><h1>who is termie</h1></header>
    <img src="termie.jpeg"/>
  </section>

  <section class="slide" id="aboutopenstack">
    <header><h1>what is openstack</h1></header>
    <img src="openstack.png"/>
  </section>

  <section class="slide" id="cooltech">
    <header><h1>cool tech</h1></header>
    <ul>
      <li><strong>pxe</strong>: a way to network boot actual machines</li>
      <li><strong>vagrant</strong>: a command-line tool for spawning virtual machines</li>
      <li><strong>lxc</strong>: something like a virtual machine that is built into linux</li>
      <li><strong>openvswitch</strong>: virtualized networking</li>
    </ul>
  </section>

  <section class="slide" id="cooltech-pxe">
    <header><h1>pxe</h1></header>
    <blockquote>PXE is really old... by internet standards at least. But I just learned about it. <cite>--termie</cite></blockquote>
    <ul>
      <li>manage boot devices for a machine</li>
      <li>boot from an image served over the network</li>
      <li>used to install new base machines</li>
      <li>we use it to rapidly deploy clouds</li>
      <li>works via tftp... which is even older (1980!?)</li>
    </ul>
  </section>

  <section class="slide" id="cooltech-pxe-1">
    <header><h1>example pxe config</h1></header>
    <h2>01-78-2b-cb-13-8c-84</h2>
    <pre>
default menu.c32
prompt 0
menu title PXE Boot
timeout 100

label natty
      menu label Ubuntu Natty (amd64)
      kernel <strong>ubuntu/natty-amd64/linux</strong>
      append auto=true priority=critical vga=788 <strong>initrd=ubuntu/natty-amd64/initrd.gz</strong> languagechooser/language-name=English countrychooser/shortlist=US console-keymaps-at/keymap=en <strong>preseed/url=http://192.168.1.2:80/preseed/14</strong> netcfg/dhcp_timeout=60 netcfg/choose_interface=auto console=tty console=ttyS1,115200n8
    </pre>
  </section>

  <section class="slide" id="cooltech-vagrant">
    <header><h1>vagrant</h1></header>
    <img src="vagrant.png" style="max-height: 200px;"/>
    <ul>
      <li>cli for spawning virtualbox instances</li>
      <li>works on windows, linux, os x</li>
      <li>quick, multi-platform way to spawn a vm</li>
      <li>integrates with chef and puppet for provisioning</li>
      <li>ruby... darn. (don't forget to `gem update --system`)</li>
    </ul>
  </section>
  <section class="slide" id="cooltech-vagrant-example">
    <header><h1>vagrant example</h1></header>
    <h2>Vagrantfile</h2>
    <pre>
Vagrant::Config.run do |global_config|
  global_config.vm.define :chef do |config|
    config.vm.box_url = <strong>"http://images.anso.com/vagrant/maverick64.box"</strong>
    config.vm.box = "base"
    <strong>config.vm.share_folder("v-apt", "/var/cache/apt", aptdir)</strong>
    <strong>config.vm.provision :chef_solo do |chef|</strong>
      chef.run_list = [
        "recipe[apt]",
        "recipe[chef::bootstrap_server]",
        "recipe[anso::cookbooks]",
        "recipe[nginx]",
      ]
    end
  end
end
    </pre>
  </section>

  <section class="slide" id="cooltech-lxc">
    <header><h1>lxc</h1></header>
    <blockquote>Holy p*rkele that was fast. <cite>--termie</cite></blockquote>
    <ul>
      <li>sort of like a super chroot</li>
      <li>outrageously quick startup time (seconds)</li>
      <li>looks like a VM, but isn't actually virtualized</li>
      <li>great for utility VMs or testing environments</li>
      <li>requires a bit of setup the first time</li>
    </ul>
  </section>
  <section class="slide" id="cooltech-lxc-example">
    <header><h1>lxc example</h1></header>
    <!--<h2>build_lxc.sh</h2>-->
    <pre>
# Create lxc configuration
LXC_CONF=/tmp/$CONTAINER.conf
cat &gt; $LXC_CONF &lt;&lt;EOF
lxc.network.type = veth
lxc.network.link = $BRIDGE
lxc.network.flags = up
lxc.network.ipv4 = $CONTAINER_CIDR
EOF

# Create the container
<strong>lxc-create -n $CONTAINER -t natty -f $LXC_CONF</strong>

# Specify where our container rootfs lives
ROOTFS=<strong>/var/lib/lxc/$CONTAINER/rootfs/</strong>

# Copy over your ssh keys and env if desired
cp ~/.ssh $ROOTFS/$DEST/.ssh
cp ~/.ssh/id_rsa.pub $ROOTFS/$DEST/.ssh/authorized_keys
cp ~/.gitconfig $ROOTFS/$DEST/.gitconfig
cp ~/.vimrc $ROOTFS/$DEST/.vimrc
cp ~/.bashrc $ROOTFS/$DEST/.bashrc
    </pre>
  </section>

  <section class="slide" id="cooltools">
    <header><h1>cool tools</h1></header>
    <ul>
      <li><strong>pip</strong>: install python packages</li>
      <li><strong>virtualenv</strong>: keep packages for different projects separate</li>
      <li><strong>eventlet</strong>: coroutine-based networking library</li>
      <li><strong>shocco</strong>: self-documenting shell scripts</li>
      <li>BONUS <strong>deck.js</strong>: what this presentation is using</li>
    </ul>
  </section>

  <section class="slide" id="cooltools-pip">
    <header><h1>pip</h1></header>
    <ul>
      <li>a better easy_install</li>
      <li>knows about version control</li>
      <li>pip-requires for managing project dependencies</li>
      <li>integrates with virtualenv</li>
    </ul>
  </section>
  <section class="slide" id="cooltools-pip-example">
    <header><h1>pip example</h1></header>
    <h2>pip-requires</h2>
    <pre>
boto==1.9b
nose==1.0.0
<strong>Django==1.3</strong>
django-nose==0.1.2
django-registration==0.7
<strong>nova-adminclient</strong>

-e bzr+https://launchpad.net/glance#egg=glance
<strong>-e git://github.com/jacobian/openstack.compute.git#egg=openstack</strong>
-e git://github.com/cloudbuilders/openstackx.git#egg=openstackx
</pre>
  </section>

    <section class="slide" id="cooltools-virtualenv">
    <header><h1>virtualenv</h1></header>
    <ul>
      <li>keep packages separate between projects</li>
      <li>crucial if you work for multiple clients</li>
      <li>great for keeping track of dependencies</li>
      <li>great shell integration using virtualenvwrapper.sh</li>
    </ul>
  </section>
  <section class="slide" id="cooltools-virtualenv-example">
    <header><h1>virtualenvwrapper.sh example</h1></header>
    <pre>
termie@grout:~ % <strong>mkvirtualenv pycon</strong>
<strong>New python executable in pycon/bin/python</strong>
Installing setuptools............done.
Installing pip...............done.
virtualenvwrapper.user_scripts creating /Users/termie/.venv/pycon/bin/predeactivate
virtualenvwrapper.user_scripts creating /Users/termie/.venv/pycon/bin/postdeactivate
virtualenvwrapper.user_scripts creating /Users/termie/.venv/pycon/bin/preactivate
virtualenvwrapper.user_scripts creating /Users/termie/.venv/pycon/bin/postactivate
virtualenvwrapper.user_scripts creating /Users/termie/.venv/pycon/bin/get_env_details
<strong>(pycon)</strong>termie@grout:~ %
(pycon)termie@grout:~ % <strong>deactivate</strong>
termie@grout:~ % <strong>workon pycon</strong>
(pycon)termie@grout:~ %
</pre>
  </section>



  <section class="slide" id="questions">
    <header><h1>questions!</h1></header>
    <center>
    <p>email me: termie@openstack.org</p>
    <p>this presentation: <a href="http://term.ie/data/pycon.fi/">term.ie/data/pycon.fi/</a></p>
    <p>my github: <a href="http://github.com/termie">github.com/termie</a>
  </center>
    <h1>Questions?</h1>
  </section>

</article>


<footer>
  <p>pycon dot eff eye</p>
  <p class="deck-status">
    <span class="deck-status-current"></span>
    /
    <span class="deck-status-total"></span>
  </p>
</footer>

<script src="../jquery-1.6.4.min.js"></script>
<script src="../core/deck.core.js"></script>
<script src="../extensions/status/deck.status.js"></script>
<script src="../extensions/hash/deck.hash.js"></script>
<script>
$(function() {
  $.deck('.slide', {
    selectors: {
      container: 'body > article'
    },
    keys: {
      goto: -1 // No key activation
    }
  });
});

</script>
</body>
</html>
